<link rel="import"
    href="../polymer/polymer.html">
<link rel="import"
    href="../paper-slider.html">
<link rel="import"
    href="../corespring-show-correct-answer-toggle/corespring-show-correct-answer-toggle.html"/>

<script src="../d3/d3.min.js"></script>

<!--
  A pie for d3 pie chart interaction.
  @demo demo/index.html
-->
<dom-module id="corespring-pie-d3-pie-chart-polymer-ralf">
  <template>
    <style>
      :host {
        display: block;
        height: 400px;
      }

      .controls {
        display: inline-block;
        margin: 0 0 0 20px;
      }

      svg {
        float: right;
        margin: 0 20px 0 0;
      }

      corespring-show-correct-answer-toggle {
        margin: 0 auto 0 auto;
      }

      text {
        fill: white;
      }

      .incorrect {
        fill: orange;
      }

      .correct {
        fill: green;
      }
    </style>

    <template is="dom-if"
        if="{{state.config.correctResponse}}">
      <corespring-show-correct-answer-toggle
          on-toggle="onToggleCorrectAnswer"
      ></corespring-show-correct-answer-toggle>
    </template>
    <p>{{state.config.prompt}}</p>
    <div class="controls">
      <template is="dom-repeat"
          items="{{data}}">
        <p><label for="input">{{item.label}}: </label> ${{item.value}}</p>
        <paper-slider disabled="{{state.config.disabled}}"
            min="0"
            max="10"
            value="{{item.value}}"
            on-change="updatePieChart">
        </paper-slider>
      </template>
    </div>
    <svg id="svg"></svg>
  </template>
</dom-module>
<script src="corespring-pie-d3-pie-chart-polymer-ralf.js"></script>
